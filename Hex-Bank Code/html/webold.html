<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Financial Fraud Detection</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #22a956; /* Aqua */
            --secondary-color: #42b32e; /* Neon green */
            --dark-bg: #000000; /* Black */
            --darker-bg: #111111;
            --card-bg: rgba(30, 30, 30, 0.95);
            --text-light: #ffffff; /* White */
            --text-dim: #cccccc;
            --fraud-color: #ff3366; /* Pinkish-red for contrast */
            --safe-color: #39ff14; /* Neon green */
            --warning-color: #19c9c9; /* Aqua for suspicious */
            --border-color: rgba(111, 255, 0, 0.3);
        }

        body {
    font-family: 'Orbitron', sans-serif;
    background-color: #000000; /* Black Background */
    color: #ffffff; /* White Text */
    text-align: center;
    transition: all 0.3s ease;
    perspective: 1000px;
}

header {
    padding: 20px;
    background: linear-gradient(90deg, #39ff14, #00ffff); /* Neon Green + Aqua */
    box-shadow: 0 4px 10px rgba(57, 255, 20, 0.5);
    color: black;
    font-weight: bold;
}

table {
    width: 90%;
    margin: 20px auto;
    border-collapse: collapse;
    box-shadow: 0px 5px 15px rgba(57, 255, 20, 0.2);
    transform: rotateX(5deg);
}

th, td {
    padding: 15px;
    border: 1px solid #444;
    background: rgba(0, 0, 0, 0.9); /* Black Transparent */
    backdrop-filter: blur(5px);
    color: white;
}

th {
    background: rgba(57, 255, 20, 0.2); /* Light Green Header */
    color: #39ff14; /* Neon Green */
}

/* Merchant name styling */
.merchant-cell {
    font-family: 'Arial', sans-serif;
    font-style: italic;
    color: #00ffff; /* Aqua for merchant names */
}

.fraud {
    color: #ff3366; /* Brighter red */
    font-weight: bold;
    text-shadow: 0 0 8px rgba(255, 51, 102, 0.8);
}

.safe {
    color: #39ff14; /* Neon Green */
    font-weight: bold;
    text-shadow: 0 0 8px rgba(57, 255, 20, 0.8);
}

.suspicious {
    color: #ffcc00; /* Amber for suspicious */
    font-weight: bold;
    text-shadow: 0 0 8px rgba(255, 204, 0, 0.8);
}

button {
    padding: 10px 15px;
    cursor: pointer;
    border: none;
    background: linear-gradient(45deg, #39ff14, #00ffff); /* Neon Green + Aqua */
    color: black;
    border-radius: 5px;
    box-shadow: 0 0 15px rgba(57, 255, 20, 0.5);
    transition: all 0.2s;
    font-weight: bold;
}

button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.7);
}

/* Added for Indian merchant names */
@keyframes pulse {
    0% { text-shadow: 0 0 5px #00ffff; }
    50% { text-shadow: 0 0 15px #39ff14; }
    100% { text-shadow: 0 0 5px #00ffff; }
}

.merchant-name {
    animation: pulse 3s infinite;
    font-weight: bold;
}

/* Location styling for Indian cities */
.location-cell {
    color: #ff99cc; /* Soft pink for locations */
    font-size: 0.9em;
}
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-light);
            margin: 0;
            padding: 0;
            transition: all 0.3s ease;
        }

        body.dark-mode {
            background-color: var(--darker-bg);
        }

        header {
            padding: 20px;
            background: linear-gradient(90deg, var(--dark-bg), var(--darker-bg));
            box-shadow: 0 0 15px var(--primary-color);
            position: relative;
            z-index: 10;
            border-bottom: 1px solid var(--primary-color);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            font-size: 2.2rem;
            text-shadow: 0 0 10px var(--primary-color);
            color: var(--primary-color);
            letter-spacing: 1px;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 10%;
            background-color: rgba(20, 20, 20, 0.95);
            position: sticky;
            top: 0;
            z-index: 5;
            border-bottom: 1px solid var(--border-color);
        }

        .stats {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 10px 15px;
            border-radius: 5px;
            box-shadow: 0 0 8px rgba(0, 255, 255, 0.2);
            border: 1px solid var(--border-color);
        }

        .stat-card i {
            margin-right: 8px;
            color: var(--primary-color);
        }

        .filters {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-light);
            border-radius: 5px;
            font-family: 'Orbitron', sans-serif;
        }

        select:focus, input:focus {
            outline: none;
            box-shadow: 0 0 8px var(--primary-color);
        }

        button {
            padding: 10px 15px;
            cursor: pointer;
            border: none;
            background: linear-gradient(45deg, var(--dark-bg), var(--darker-bg));
            color: var(--primary-color);
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
            transition: all 0.2s;
            font-family: 'Orbitron', sans-serif;
            font-weight: 500;
            border: 1px solid var(--primary-color);
            letter-spacing: 1px;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--primary-color);
            color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        button.secondary {
            background: transparent;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
        }

        button.secondary:hover {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .table-container {
            width: 95%;
            margin: 20px auto;
            overflow-x: auto;
            max-height: 70vh;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            background: var(--card-bg);
            text-align: left;
        }

        th {
            position: sticky;
            top: 0;
            background: rgba(2, 6, 0, 0.95);
            font-family: 'Orbitron', sans-serif;
            font-weight: 500;
            color: var(--primary-color);
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        tr:hover {
            background: rgba(0, 255, 255, 0.05);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.1);
        }

        .fraud {
            color: var(--fraud-color);
            font-weight: bold;
            text-shadow: 0 0 8px rgba(255, 51, 102, 0.5);
        }

        .safe {
            color: var(--safe-color);
            font-weight: bold;
            text-shadow: 0 0 8px rgba(57, 255, 20, 0.5);
        }

        .suspicious {
            color: var(--warning-color);
            font-weight: bold;
            text-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
        }

        .action-btn {
            padding: 6px 10px;
            font-size: 0.8rem;
            margin: 2px;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--darker-bg);
            padding: 30px;
            border-radius: 5px;
            width: 60%;
            max-width: 700px;
            box-shadow: 0 0 30px var(--primary-color);
            position: relative;
            border: 1px solid var(--primary-color);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--primary-color);
        }

        .close-modal:hover {
            color: var(--secondary-color);
        }

        .transaction-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .detail-item {
            margin-bottom: 10px;
        }

        .detail-label {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
        }

        .detail-value {
            padding: 8px;
            background: rgba(0, 255, 255, 0.05);
            border-radius: 3px;
            border: 1px solid var(--border-color);
            font-family: 'Roboto', sans-serif;
        }

        .fraud-analysis {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 51, 102, 0.05);
            border-left: 3px solid var(--fraud-color);
            border-radius: 0 5px 5px 0;
        }

        /* Glow effects */
        .glow {
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 5px var(--primary-color);
            }
            to {
                box-shadow: 0 0 20px var(--primary-color);
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }

        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                gap: 15px;
                padding: 15px 5%;
            }
            
            .stats, .filters {
                width: 100%;
                flex-wrap: wrap;
            }
            
            .table-container {
                width: 100%;
            }
            
            .modal-content {
                width: 90%;
                padding: 20px;
            }
            
            .transaction-details {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="glow">
        <h1><i class="fas fa-robot"></i> AI FINANCIAL FRAUD DETECTION</h1>
    </header>
    
    <div class="controls">
        <div class="stats">
            <div class="stat-card">
                <i class="fas fa-exchange-alt"></i>
                <span id="totalTransactions">0</span> Transactions
            </div>
            <div class="stat-card">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="fraudCount">0</span> Fraud Detected
            </div>
            <div class="stat-card">
                <i class="fas fa-check-circle"></i>
                <span id="safeCount">0</span> Verified Safe
            </div>
            <div class="stat-card">
                <i class="fas fa-question-circle"></i>
                <span id="suspiciousCount">0</span> Suspicious
            </div>
        </div>
        
        <div class="filters">
            <select id="statusFilter">
                <option value="all">All Statuses</option>
                <option value="fraud">Fraud Only</option>
                <option value="safe">Safe Only</option>
                <option value="suspicious">Suspicious</option>
            </select>
            <input type="text" id="searchInput" placeholder="Search transactions...">
            <button onclick="changeTheme()"><i class="fas fa-moon"></i> Theme</button>
        </div>
    </div>
    
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Transaction ID <i class="fas fa-sort" onclick="sortTable('id')"></i></th>
                    <th>Amount <i class="fas fa-sort" onclick="sortTable('amount')"></i></th>
                    <th>Date <i class="fas fa-sort" onclick="sortTable('date')"></i></th>
                    <th>Merchant</th>
                    <th>Location</th>
                    <th>Status <i class="fas fa-sort" onclick="sortTable('status')"></i></th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="transactionTable">
                <!-- Transactions will be dynamically added here -->
            </tbody>
        </table>
    </div>
    
    <div class="pagination">
        <button id="prevPage" class="secondary"><i class="fas fa-chevron-left"></i> Previous</button>
        <span id="pageInfo">Page 1 of 10</span>
        <button id="nextPage"><i class="fas fa-chevron-right"></i> Next</button>
    </div>
    
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle" style="color: var(--primary-color); font-family: 'Orbitron', sans-serif;">TRANSACTION DETAILS</h2>
            <div class="transaction-details" id="transactionDetails">
                <!-- Details will be filled dynamically -->
            </div>
            <div class="fraud-analysis" id="fraudAnalysis">
                <!-- Fraud analysis will be filled dynamically -->
            </div>
        </div>
    </div>
    
    <script>
        // Generate 500 random transactions
        const transactions = [];
        const statuses = ['fraud', 'safe', 'suspicious'];
        const merchants = [
    'Aarav Patel', 'Priya Sharma', 'Vikram Singh', 'Ananya Gupta', 
    'Rahul Joshi', 'Neha Reddy', 'Arjun Malhotra', 'Isha Chatterjee',
    'Rohan Iyer', 'Divya Nair', 'Karan Mehta', 'Shreya Banerjee',
    'Aditya Kapoor', 'Pooja Choudhary', 'Siddharth Rao', 'Tanvi Desai',
    'Vivek Agarwal', 'Anjali Saxena', 'Rajiv Khanna', 'Mira Trivedi'
];

const locations = [
    'Mumbai', 'Delhi', 'Bangalore', 'Hyderabad', 
    'Chennai', 'Kolkata', 'Pune', 'Jaipur',
    'Ahmedabad', 'Lucknow', 'Surat', 'Kanpur',
    'Nagpur', 'Visakhapatnam', 'Indore', 'Thane'
];
        
        for (let i = 0; i < 500; i++) {
            const status = statuses[Math.floor(Math.random() * statuses.length)];
            const amount = (Math.random() * 10000).toFixed(2);
            
            transactions.push({
                id: 'TXN' + (1000000 + i).toString().substring(1),
                amount: 'Rs ' + amount,
                date: randomDate(new Date(2023, 0, 1), new Date()),
                merchant: merchants[Math.floor(Math.random() * merchants.length)],
                location: locations[Math.floor(Math.random() * locations.length)],
                status: status,
                fraud: status === 'fraud',
                suspicious: status === 'suspicious',
                account: 'ACCT' + (100000 + Math.floor(Math.random() * 900000)),
                ip: `${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`,
                device: ['Mobile', 'Desktop', 'Tablet'][Math.floor(Math.random() * 3)],
                confidence: status === 'fraud' ? (80 + Math.random() * 20).toFixed(0) + '%' : 
                           status === 'suspicious' ? (50 + Math.random() * 30).toFixed(0) + '%' : '95%+',
                riskFactors: status === 'fraud' ? ['Unusual amount', 'Foreign location', 'New device'] :
                             status === 'suspicious' ? ['High amount', 'New merchant'] : []
            });
        }
        
        function randomDate(start, end) {
            return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime())).toLocaleDateString();
        }
        
        // Pagination variables
        let currentPage = 1;
        const rowsPerPage = 20;
        let filteredTransactions = [...transactions];
        let sortColumn = 'id';
        let sortDirection = 'asc';
        
        // DOM elements
        const tableBody = document.getElementById('transactionTable');
        const totalTransactionsEl = document.getElementById('totalTransactions');
        const fraudCountEl = document.getElementById('fraudCount');
        const safeCountEl = document.getElementById('safeCount');
        const suspiciousCountEl = document.getElementById('suspiciousCount');
        const statusFilter = document.getElementById('statusFilter');
        const searchInput = document.getElementById('searchInput');
        const prevPageBtn = document.getElementById('prevPage');
        const nextPageBtn = document.getElementById('nextPage');
        const pageInfoEl = document.getElementById('pageInfo');
        const transactionModal = document.getElementById('transactionModal');
        
        // Initialize the page
        function init() {
            updateStats();
            filterTransactions();
            renderTable();
            
            // Event listeners
            statusFilter.addEventListener('change', filterTransactions);
            searchInput.addEventListener('input', filterTransactions);
            prevPageBtn.addEventListener('click', goToPrevPage);
            nextPageBtn.addEventListener('click', goToNextPage);
        }
        
        // Update statistics
        function updateStats() {
            const fraudCount = transactions.filter(t => t.fraud).length;
            const safeCount = transactions.filter(t => t.status === 'safe').length;
            const suspiciousCount = transactions.filter(t => t.suspicious).length;
            
            totalTransactionsEl.textContent = transactions.length;
            fraudCountEl.textContent = fraudCount;
            safeCountEl.textContent = safeCount;
            suspiciousCountEl.textContent = suspiciousCount;
        }
        
        // Filter transactions based on status and search
        function filterTransactions() {
            const status = statusFilter.value;
            const searchTerm = searchInput.value.toLowerCase();
            
            filteredTransactions = transactions.filter(txn => {
                const matchesStatus = status === 'all' || 
                                      (status === 'fraud' && txn.fraud) || 
                                      (status === 'safe' && txn.status === 'safe') || 
                                      (status === 'suspicious' && txn.suspicious);
                
                const matchesSearch = txn.id.toLowerCase().includes(searchTerm) || 
                                     txn.amount.toLowerCase().includes(searchTerm) || 
                                     txn.merchant.toLowerCase().includes(searchTerm) || 
                                     txn.location.toLowerCase().includes(searchTerm);
                
                return matchesStatus && matchesSearch;
            });
            
            currentPage = 1;
            renderTable();
        }
        
        // Sort transactions
        function sortTable(column) {
            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }
            
            filteredTransactions.sort((a, b) => {
                let valA, valB;
                
                if (column === 'amount') {
                    valA = parseFloat(a.amount.substring(1));
                    valB = parseFloat(b.amount.substring(1));
                } else if (column === 'date') {
                    valA = new Date(a.date);
                    valB = new Date(b.date);
                } else if (column === 'status') {
                    valA = a.status;
                    valB = b.status;
                } else {
                    valA = a[column];
                    valB = b[column];
                }
                
                if (valA < valB) return sortDirection === 'asc' ? -1 : 1;
                if (valA > valB) return sortDirection === 'asc' ? 1 : -1;
                return 0;
            });
            
            renderTable();
        }
        
        // Render the table with pagination
        function renderTable() {
            const startIdx = (currentPage - 1) * rowsPerPage;
            const endIdx = startIdx + rowsPerPage;
            const paginatedTransactions = filteredTransactions.slice(startIdx, endIdx);
            
            tableBody.innerHTML = '';
            
            if (paginatedTransactions.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `<td colspan="7" style="text-align: center; color: var(--primary-color);">No transactions found matching your criteria</td>`;
                tableBody.appendChild(row);
            } else {
                paginatedTransactions.forEach(txn => {
                    const row = document.createElement('tr');
                    
                    let statusClass = '';
                    let statusText = '';
                    
                    if (txn.fraud) {
                        statusClass = 'fraud';
                        statusText = 'Fraud Detected';
                    } else if (txn.suspicious) {
                        statusClass = 'suspicious';
                        statusText = 'Suspicious';
                    } else {
                        statusClass = 'safe';
                        statusText = 'Verified Safe';
                    }
                    
                    row.innerHTML = `
                        <td>${txn.id}</td>
                        <td>${txn.amount}</td>
                        <td>${txn.date}</td>
                        <td>${txn.merchant}</td>
                        <td>${txn.location}</td>
                        <td class="${statusClass}">${statusText}</td>
                        <td>
                            <button class="action-btn" onclick="viewDetails('${txn.id}')"><i class="fas fa-eye"></i> View</button>
                            ${txn.fraud || txn.suspicious ? `<button class="action-btn secondary" onclick="traceFraud('${txn.id}')"><i class="fas fa-search"></i> Trace</button>` : ''}
                        </td>
                    `;
                    tableBody.appendChild(row);
                });
            }
            
            // Update pagination controls
            const totalPages = Math.ceil(filteredTransactions.length / rowsPerPage);
            pageInfoEl.textContent = `Page ${currentPage} of ${totalPages}`;
            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
        }
        
        // Pagination functions
        function goToPrevPage() {
            if (currentPage > 1) {
                currentPage--;
                renderTable();
            }
        }
        
        function goToNextPage() {
            const totalPages = Math.ceil(filteredTransactions.length / rowsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                renderTable();
            }
        }
        
        // Transaction details modal
        function viewDetails(txnId) {
            const txn = transactions.find(t => t.id === txnId);
            if (!txn) return;
            
            document.getElementById('modalTitle').textContent = `TRANSACTION ${txn.id}`;
            
            const detailsEl = document.getElementById('transactionDetails');
            detailsEl.innerHTML = `
                <div class="detail-item">
                    <div class="detail-label">Amount</div>
                    <div class="detail-value">${txn.amount}</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Date</div>
                    <div class="detail-value">${txn.date}</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Merchant</div>
                    <div class="detail-value">${txn.merchant}</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Location</div>
                    <div class="detail-value">${txn.location}</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Account</div>
                    <div class="detail-value">${txn.account}</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">IP Address</div>
                    <div class="detail-value">${txn.ip}</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Device</div>
                    <div class="detail-value">${txn.device}</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Confidence Level</div>
                    <div class="detail-value">${txn.confidence}</div>
                </div>
            `;
            
            const analysisEl = document.getElementById('fraudAnalysis');
            if (txn.fraud) {
                analysisEl.innerHTML = `
                    <h3 style="color: var(--fraud-color);"><i class="fas fa-exclamation-triangle"></i> FRAUD ANALYSIS</h3>
                    <p>This transaction has been flagged as fraudulent with ${txn.confidence} confidence.</p>
                    <p>Risk factors detected:</p>
                    <ul>
                        ${txn.riskFactors.map(factor => `<li>${factor}</li>`).join('')}
                        <li>AI confidence: ${txn.confidence}</li>
                    </ul>
                    <p style="color: var(--fraud-color); font-weight: bold;">
                        <i class="fas fa-shield-alt"></i> Recommended action: Block transaction and notify security team
                    </p>
                `;
                analysisEl.style.display = 'block';
            } else if (txn.suspicious) {
                analysisEl.innerHTML = `
                    <h3 style="color: var(--warning-color);"><i class="fas fa-question-circle"></i> SUSPICIOUS ACTIVITY</h3>
                    <p>This transaction shows ${txn.confidence} confidence of suspicious activity.</p>
                    <p>Potential issues:</p>
                    <ul>
                        ${txn.riskFactors.map(factor => `<li>${factor}</li>`).join('')}
                        <li>AI confidence: ${txn.confidence}</li>
                    </ul>
                    <p style="color: var(--warning-color);">
                        <i class="fas fa-user-shield"></i> Recommended action: Verify with customer
                    </p>
                `;
                analysisEl.style.display = 'block';
            } else {
                analysisEl.style.display = 'none';
            }
            
            transactionModal.style.display = 'flex';
        }
        
        function closeModal() {
            transactionModal.style.display = 'none';
        }
        
        function traceFraud(txnId) {
            const txn = transactions.find(t => t.id === txnId);
            if (!txn) return;
            
            alert(`Initiating fraud trace for transaction ${txnId}\nAmount: ${txn.amount}\nMerchant: ${txn.merchant}\n\nTrace route:\n1. Account verification\n2. Device fingerprinting\n3. Geographic analysis\n4. Behavioral pattern check`);
        }
        
        function changeTheme() {
            document.body.classList.toggle('dark-mode');
            const icon = document.querySelector('.fa-moon');
            if (document.body.classList.contains('dark-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }
        
        // Close modal when clicking outside
        window.addEventListener('click', (event) => {
            if (event.target === transactionModal) {
                closeModal();
            }
        });
        
        // Initialize the app
        window.onload = init;
    </script>
</body>
</html>